-- Add ALL missing columns to unified_shipments table to remove upload restrictions
ALTER TABLE public.unified_shipments 
ADD COLUMN IF NOT EXISTS departure_date DATE,
ADD COLUMN IF NOT EXISTS bill_of_lading_number TEXT,
ADD COLUMN IF NOT EXISTS matching_fields TEXT,
ADD COLUMN IF NOT EXISTS consignee TEXT,
ADD COLUMN IF NOT EXISTS consignee_address TEXT,
ADD COLUMN IF NOT EXISTS consignee_city TEXT,
ADD COLUMN IF NOT EXISTS consignee_state_region TEXT,
ADD COLUMN IF NOT EXISTS consignee_postal_code TEXT,
ADD COLUMN IF NOT EXISTS consignee_full_address TEXT,
ADD COLUMN IF NOT EXISTS consignee_email_1 TEXT,
ADD COLUMN IF NOT EXISTS consignee_phone_1 TEXT,
ADD COLUMN IF NOT EXISTS consignee_website_1 TEXT,
ADD COLUMN IF NOT EXISTS consignee_industry TEXT,
ADD COLUMN IF NOT EXISTS consignee_revenue TEXT,
ADD COLUMN IF NOT EXISTS consignee_employees TEXT,
ADD COLUMN IF NOT EXISTS consignee_trade_roles TEXT,
ADD COLUMN IF NOT EXISTS shipper TEXT,
ADD COLUMN IF NOT EXISTS shipper_address TEXT,
ADD COLUMN IF NOT EXISTS shipper_city TEXT,
ADD COLUMN IF NOT EXISTS shipper_state_region TEXT,
ADD COLUMN IF NOT EXISTS shipper_postal_code TEXT,
ADD COLUMN IF NOT EXISTS shipper_full_address TEXT,
ADD COLUMN IF NOT EXISTS shipper_email_1 TEXT,
ADD COLUMN IF NOT EXISTS shipper_phone_1 TEXT,
ADD COLUMN IF NOT EXISTS shipper_industry TEXT,
ADD COLUMN IF NOT EXISTS shipper_revenue TEXT,
ADD COLUMN IF NOT EXISTS shipper_employees TEXT,
ADD COLUMN IF NOT EXISTS shipper_trade_roles TEXT,
ADD COLUMN IF NOT EXISTS shipment_origin TEXT,
ADD COLUMN IF NOT EXISTS shipment_destination TEXT,
ADD COLUMN IF NOT EXISTS shipment_destination_region TEXT,
ADD COLUMN IF NOT EXISTS port_of_unlading TEXT,
ADD COLUMN IF NOT EXISTS port_of_unlading_region TEXT,
ADD COLUMN IF NOT EXISTS port_of_lading TEXT,
ADD COLUMN IF NOT EXISTS port_of_lading_region TEXT,
ADD COLUMN IF NOT EXISTS port_of_lading_country TEXT,
ADD COLUMN IF NOT EXISTS transport_method TEXT,
ADD COLUMN IF NOT EXISTS vessel TEXT,
ADD COLUMN IF NOT EXISTS vessel_voyage_id TEXT,
ADD COLUMN IF NOT EXISTS vessel_imo TEXT,
ADD COLUMN IF NOT EXISTS weight_t NUMERIC,
ADD COLUMN IF NOT EXISTS weight_original_format TEXT,
ADD COLUMN IF NOT EXISTS number_of_containers INTEGER,
ADD COLUMN IF NOT EXISTS goods_shipped TEXT,
ADD COLUMN IF NOT EXISTS container_marks TEXT;

-- Add same columns to airfreight_shipments
ALTER TABLE public.airfreight_shipments 
ADD COLUMN IF NOT EXISTS bill_of_lading_number TEXT,
ADD COLUMN IF NOT EXISTS matching_fields TEXT,
ADD COLUMN IF NOT EXISTS consignee TEXT,
ADD COLUMN IF NOT EXISTS consignee_address TEXT,
ADD COLUMN IF NOT EXISTS consignee_state_region TEXT,
ADD COLUMN IF NOT EXISTS consignee_postal_code TEXT,
ADD COLUMN IF NOT EXISTS consignee_full_address TEXT,
ADD COLUMN IF NOT EXISTS consignee_email_1 TEXT,
ADD COLUMN IF NOT EXISTS consignee_phone_1 TEXT,
ADD COLUMN IF NOT EXISTS consignee_website_1 TEXT,
ADD COLUMN IF NOT EXISTS consignee_industry TEXT,
ADD COLUMN IF NOT EXISTS consignee_revenue TEXT,
ADD COLUMN IF NOT EXISTS consignee_employees TEXT,
ADD COLUMN IF NOT EXISTS consignee_trade_roles TEXT,
ADD COLUMN IF NOT EXISTS shipper TEXT,
ADD COLUMN IF NOT EXISTS shipper_address TEXT,
ADD COLUMN IF NOT EXISTS shipper_city TEXT,
ADD COLUMN IF NOT EXISTS shipper_state_region TEXT,
ADD COLUMN IF NOT EXISTS shipper_postal_code TEXT,
ADD COLUMN IF NOT EXISTS shipper_full_address TEXT,
ADD COLUMN IF NOT EXISTS shipper_email_1 TEXT,
ADD COLUMN IF NOT EXISTS shipper_phone_1 TEXT,
ADD COLUMN IF NOT EXISTS shipper_industry TEXT,
ADD COLUMN IF NOT EXISTS shipper_revenue TEXT,
ADD COLUMN IF NOT EXISTS shipper_employees TEXT,
ADD COLUMN IF NOT EXISTS shipper_trade_roles TEXT,
ADD COLUMN IF NOT EXISTS shipment_origin TEXT,
ADD COLUMN IF NOT EXISTS shipment_destination TEXT,
ADD COLUMN IF NOT EXISTS shipment_destination_region TEXT,
ADD COLUMN IF NOT EXISTS port_of_unlading TEXT,
ADD COLUMN IF NOT EXISTS port_of_unlading_region TEXT,
ADD COLUMN IF NOT EXISTS port_of_lading TEXT,
ADD COLUMN IF NOT EXISTS port_of_lading_region TEXT,
ADD COLUMN IF NOT EXISTS port_of_lading_country TEXT,
ADD COLUMN IF NOT EXISTS vessel TEXT,
ADD COLUMN IF NOT EXISTS vessel_voyage_id TEXT,
ADD COLUMN IF NOT EXISTS vessel_imo TEXT,
ADD COLUMN IF NOT EXISTS weight_t NUMERIC,
ADD COLUMN IF NOT EXISTS weight_original_format TEXT,
ADD COLUMN IF NOT EXISTS number_of_containers INTEGER,
ADD COLUMN IF NOT EXISTS goods_shipped TEXT,
ADD COLUMN IF NOT EXISTS container_marks TEXT;

-- Add contact enrichment columns to crm_contacts
ALTER TABLE public.crm_contacts
ADD COLUMN IF NOT EXISTS consignee_email_1 TEXT,
ADD COLUMN IF NOT EXISTS consignee_phone_1 TEXT,
ADD COLUMN IF NOT EXISTS consignee_website_1 TEXT,
ADD COLUMN IF NOT EXISTS consignee_industry TEXT,
ADD COLUMN IF NOT EXISTS consignee_revenue TEXT,
ADD COLUMN IF NOT EXISTS consignee_employees TEXT,
ADD COLUMN IF NOT EXISTS shipper_email_1 TEXT,
ADD COLUMN IF NOT EXISTS shipper_phone_1 TEXT,
ADD COLUMN IF NOT EXISTS shipper_industry TEXT,
ADD COLUMN IF NOT EXISTS shipper_revenue TEXT,
ADD COLUMN IF NOT EXISTS shipper_employees TEXT;